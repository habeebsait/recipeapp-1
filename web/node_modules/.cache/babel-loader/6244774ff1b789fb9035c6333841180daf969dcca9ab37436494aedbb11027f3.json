{"ast":null,"code":"// Utility functions for URL generation and parsing\n\n/**\n * Generates a SEO-friendly recipe slug\n * @param {string} title - Recipe title\n * @param {string} timestamp - Creation timestamp or recipe ID\n * @returns {string} - URL-friendly slug like \"delicious-pasta-recipe-1696687200000\"\n */\nexport const generateRecipeSlug = (title, timestamp) => {\n  if (!title || !timestamp) return '';\n\n  // Convert title to URL-friendly format\n  const titleSlug = title.toLowerCase().replace(/[^a-z0-9\\s-]/g, '') // Remove special characters\n  .replace(/\\s+/g, '-') // Replace spaces with hyphens\n  .replace(/-+/g, '-') // Replace multiple hyphens with single\n  .trim('-'); // Remove leading/trailing hyphens\n\n  // Use timestamp or generate from current time\n  const timeValue = timestamp instanceof Date ? timestamp.getTime() : new Date(timestamp).getTime();\n  return `${titleSlug}-${timeValue}`;\n};\n\n/**\n * Parses a recipe slug to extract timestamp/ID\n * @param {string} slug - Recipe slug like \"delicious-pasta-recipe-1696687200000\"\n * @returns {string} - Extracted timestamp\n */\nexport const parseRecipeSlug = slug => {\n  if (!slug) return '';\n\n  // Extract the timestamp from the end of the slug\n  const parts = slug.split('-');\n  const timestamp = parts[parts.length - 1];\n\n  // Validate that it's a number\n  return /^\\d+$/.test(timestamp) ? timestamp : '';\n};\n\n/**\n * Generates user profile URL\n * @param {string} username - User's username\n * @returns {string} - Profile URL like \"/johndoe\"\n */\nexport const generateProfileUrl = username => {\n  if (!username) return '/profile';\n  return `/${username}`;\n};\n\n/**\n * Generates user's recipes page URL\n * @param {string} username - User's username\n * @returns {string} - My recipes URL like \"/johndoe/my-recipes\"\n */\nexport const generateMyRecipesUrl = username => {\n  if (!username) return '/my-recipes';\n  return `/${username}/my-recipes`;\n};\n\n/**\n * Generates create recipe page URL\n * @param {string} username - User's username\n * @returns {string} - Create recipe URL like \"/johndoe/create-recipe\"\n */\nexport const generateCreateRecipeUrl = username => {\n  if (!username) return '/create-recipe';\n  return `/${username}/create-recipe`;\n};\n\n/**\n * Generates recipe detail URL\n * @param {string} username - Recipe owner's username\n * @param {Object|string} recipeOrTitle - Recipe object or title string\n * @param {string} timestamp - Creation timestamp or ID (optional if recipe object)\n * @returns {string} - Recipe URL like \"/johndoe/my-recipes/delicious-pasta-recipe-1696687200000\"\n */\nexport const generateRecipeUrl = (username, recipeOrTitle, timestamp) => {\n  if (!username) return '#';\n  let title, id;\n\n  // Handle recipe object parameter\n  if (typeof recipeOrTitle === 'object' && recipeOrTitle !== null) {\n    title = recipeOrTitle.title;\n    id = recipeOrTitle.id || recipeOrTitle.created_at;\n  } else {\n    title = recipeOrTitle;\n    id = timestamp;\n  }\n  if (!title || !id) return '#';\n  const slug = generateRecipeSlug(title, id);\n  return `/${username}/my-recipes/${slug}`;\n};\n\n/**\n * Validates if a string is a valid username format\n * @param {string} username - Username to validate\n * @returns {boolean} - True if valid username format\n */\nexport const isValidUsername = username => {\n  if (!username) return false;\n  // Username should be 3-30 characters, alphanumeric with underscores/hyphens\n  return /^[a-zA-Z0-9_-]{3,30}$/.test(username);\n};\n\n/**\n * Gets the current user's username from profile or generates fallback\n * @param {Object} user - User object from Supabase\n * @param {Object} profile - User profile object\n * @returns {string} - Username or fallback\n */\nexport const getUsernameForUrl = (user, profile) => {\n  var _user$user_metadata;\n  if (profile !== null && profile !== void 0 && profile.username) return profile.username;\n  if (user !== null && user !== void 0 && (_user$user_metadata = user.user_metadata) !== null && _user$user_metadata !== void 0 && _user$user_metadata.username) return user.user_metadata.username;\n  if (user !== null && user !== void 0 && user.email) return user.email.split('@')[0].replace(/[^a-zA-Z0-9]/g, '');\n  return 'user';\n};","map":{"version":3,"names":["generateRecipeSlug","title","timestamp","titleSlug","toLowerCase","replace","trim","timeValue","Date","getTime","parseRecipeSlug","slug","parts","split","length","test","generateProfileUrl","username","generateMyRecipesUrl","generateCreateRecipeUrl","generateRecipeUrl","recipeOrTitle","id","created_at","isValidUsername","getUsernameForUrl","user","profile","_user$user_metadata","user_metadata","email"],"sources":["/Users/habeebsait/Apps/food_app/recipe-app-web/src/utils/urlUtils.js"],"sourcesContent":["// Utility functions for URL generation and parsing\n\n/**\n * Generates a SEO-friendly recipe slug\n * @param {string} title - Recipe title\n * @param {string} timestamp - Creation timestamp or recipe ID\n * @returns {string} - URL-friendly slug like \"delicious-pasta-recipe-1696687200000\"\n */\nexport const generateRecipeSlug = (title, timestamp) => {\n  if (!title || !timestamp) return '';\n  \n  // Convert title to URL-friendly format\n  const titleSlug = title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, '') // Remove special characters\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\n    .replace(/-+/g, '-') // Replace multiple hyphens with single\n    .trim('-'); // Remove leading/trailing hyphens\n  \n  // Use timestamp or generate from current time\n  const timeValue = timestamp instanceof Date \n    ? timestamp.getTime() \n    : new Date(timestamp).getTime();\n  \n  return `${titleSlug}-${timeValue}`;\n};\n\n/**\n * Parses a recipe slug to extract timestamp/ID\n * @param {string} slug - Recipe slug like \"delicious-pasta-recipe-1696687200000\"\n * @returns {string} - Extracted timestamp\n */\nexport const parseRecipeSlug = (slug) => {\n  if (!slug) return '';\n  \n  // Extract the timestamp from the end of the slug\n  const parts = slug.split('-');\n  const timestamp = parts[parts.length - 1];\n  \n  // Validate that it's a number\n  return /^\\d+$/.test(timestamp) ? timestamp : '';\n};\n\n/**\n * Generates user profile URL\n * @param {string} username - User's username\n * @returns {string} - Profile URL like \"/johndoe\"\n */\nexport const generateProfileUrl = (username) => {\n  if (!username) return '/profile';\n  return `/${username}`;\n};\n\n/**\n * Generates user's recipes page URL\n * @param {string} username - User's username\n * @returns {string} - My recipes URL like \"/johndoe/my-recipes\"\n */\nexport const generateMyRecipesUrl = (username) => {\n  if (!username) return '/my-recipes';\n  return `/${username}/my-recipes`;\n};\n\n/**\n * Generates create recipe page URL\n * @param {string} username - User's username\n * @returns {string} - Create recipe URL like \"/johndoe/create-recipe\"\n */\nexport const generateCreateRecipeUrl = (username) => {\n  if (!username) return '/create-recipe';\n  return `/${username}/create-recipe`;\n};\n\n/**\n * Generates recipe detail URL\n * @param {string} username - Recipe owner's username\n * @param {Object|string} recipeOrTitle - Recipe object or title string\n * @param {string} timestamp - Creation timestamp or ID (optional if recipe object)\n * @returns {string} - Recipe URL like \"/johndoe/my-recipes/delicious-pasta-recipe-1696687200000\"\n */\nexport const generateRecipeUrl = (username, recipeOrTitle, timestamp) => {\n  if (!username) return '#';\n  \n  let title, id;\n  \n  // Handle recipe object parameter\n  if (typeof recipeOrTitle === 'object' && recipeOrTitle !== null) {\n    title = recipeOrTitle.title;\n    id = recipeOrTitle.id || recipeOrTitle.created_at;\n  } else {\n    title = recipeOrTitle;\n    id = timestamp;\n  }\n  \n  if (!title || !id) return '#';\n  \n  const slug = generateRecipeSlug(title, id);\n  return `/${username}/my-recipes/${slug}`;\n};\n\n/**\n * Validates if a string is a valid username format\n * @param {string} username - Username to validate\n * @returns {boolean} - True if valid username format\n */\nexport const isValidUsername = (username) => {\n  if (!username) return false;\n  // Username should be 3-30 characters, alphanumeric with underscores/hyphens\n  return /^[a-zA-Z0-9_-]{3,30}$/.test(username);\n};\n\n/**\n * Gets the current user's username from profile or generates fallback\n * @param {Object} user - User object from Supabase\n * @param {Object} profile - User profile object\n * @returns {string} - Username or fallback\n */\nexport const getUsernameForUrl = (user, profile) => {\n  if (profile?.username) return profile.username;\n  if (user?.user_metadata?.username) return user.user_metadata.username;\n  if (user?.email) return user.email.split('@')[0].replace(/[^a-zA-Z0-9]/g, '');\n  return 'user';\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}