{"ast":null,"code":"var _jsxFileName = \"/Users/habeebsait/Apps/food_app/web/src/pages/UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport Navigation from '../components/Navigation';\nimport { getUsernameForUrl, generateRecipeUrl } from '../utils/urlUtils';\nimport './UserProfile.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserProfile() {\n  _s();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [profileUser, setProfileUser] = useState(null);\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [saveLoading, setSaveLoading] = useState(null);\n  const [savedRecipes, setSavedRecipes] = useState(new Set());\n  const {\n    username\n  } = useParams();\n  const navigate = useNavigate();\n\n  // Helper: Generate subtitle for recipes\n  const getRecipeSubtitle = recipe => {\n    const title = ((recipe === null || recipe === void 0 ? void 0 : recipe.title) || '').toLowerCase();\n    if (title.includes('pasta')) return 'A rich and flavorful pasta dish.';\n    if (title.includes('salad')) return 'A refreshing and healthy salad.';\n    if (title.includes('cake') || title.includes('chocolate')) return 'A decadent chocolate dessert.';\n    if (title.includes('chili') || title.includes('vegan')) return 'Hearty and packed with flavor.';\n    if (recipe !== null && recipe !== void 0 && recipe.category) return `A delicious ${recipe.category.toLowerCase()} recipe.`;\n    return 'A delicious recipe to try.';\n  };\n  useEffect(() => {\n    async function loadUserProfile() {\n      try {\n        // Get current authenticated user\n        const {\n          data: {\n            user: authUser\n          }\n        } = await supabase.auth.getUser();\n        setCurrentUser(authUser);\n\n        // Load saved recipes for current user if authenticated\n        if (authUser) {\n          const {\n            data: savedData\n          } = await supabase.from('saved_recipes').select('user_recipe_id').eq('user_id', authUser.id);\n          if (savedData) {\n            setSavedRecipes(new Set(savedData.map(item => item.user_recipe_id)));\n          }\n        }\n\n        // Find the profile user by username\n        const {\n          data: profiles,\n          error: profileError\n        } = await supabase.from('profiles').select('id, username, full_name, avatar_url, is_public_profile').eq('username', username).single();\n        if (profileError) {\n          console.error('Profile query error:', profileError);\n          console.error('Looking for username:', username);\n          throw new Error('User not found');\n        }\n        console.log('Found profile:', profiles);\n        console.log('is_public_profile value:', profiles.is_public_profile, 'type:', typeof profiles.is_public_profile);\n\n        // Handle both boolean and string values for is_public_profile\n        const isPublic = profiles.is_public_profile === true || profiles.is_public_profile === 'true';\n        if (!isPublic) {\n          throw new Error('This profile is private');\n        }\n        setProfileUser(profiles);\n\n        // Load the user's public recipes\n        const {\n          data: recipeData,\n          error: recipeError\n        } = await supabase.from('user_recipes').select(`\n            id,\n            title,\n            category,\n            ingredients,\n            steps,\n            image_url,\n            created_at,\n            updated_at\n          `).eq('user_id', profiles.id).order('created_at', {\n          ascending: false\n        });\n        if (recipeError) {\n          throw recipeError;\n        }\n        setRecipes(recipeData || []);\n      } catch (err) {\n        console.error('Error loading user profile:', err);\n        setError(err.message || 'Failed to load user profile');\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadUserProfile();\n  }, [username]);\n  const handleSaveRecipe = async recipe => {\n    if (!currentUser) {\n      alert('Please sign in to save recipes');\n      return;\n    }\n    const isCurrentlySaved = savedRecipes.has(recipe.id);\n    try {\n      setSaveLoading(recipe.id);\n      if (isCurrentlySaved) {\n        // Remove from saved recipes\n        const {\n          error\n        } = await supabase.from('saved_recipes').delete().eq('user_id', currentUser.id).eq('user_recipe_id', recipe.id);\n        if (error) throw error;\n        setSavedRecipes(prev => {\n          const newSet = new Set(prev);\n          newSet.delete(recipe.id);\n          return newSet;\n        });\n      } else {\n        // Add to saved recipes\n        // Note: If you get a NOT NULL constraint error, you need to run this SQL:\n        // ALTER TABLE saved_recipes ALTER COLUMN recipe_id DROP NOT NULL;\n\n        const insertData = {\n          user_id: currentUser.id,\n          user_recipe_id: recipe.id,\n          category: recipe.category\n          // Omitting recipe_id - it should default to NULL\n        };\n        const {\n          error\n        } = await supabase.from('saved_recipes').insert([insertData]);\n        if (error) {\n          console.error('Save recipe error:', error);\n          console.error('This error suggests recipe_id has NOT NULL constraint');\n          console.error('Run this SQL to fix: ALTER TABLE saved_recipes ALTER COLUMN recipe_id DROP NOT NULL;');\n          throw new Error(`Database schema issue: ${error.message}`);\n        }\n        setSavedRecipes(prev => new Set([...prev, recipe.id]));\n      }\n    } catch (err) {\n      console.error('Error saving recipe:', err);\n      alert(`Failed to ${isCurrentlySaved ? 'remove' : 'save'} recipe: ${err.message}`);\n    } finally {\n      setSaveLoading(null);\n    }\n  };\n  const handleViewRecipe = recipe => {\n    const recipeOwnerUsername = getUsernameForUrl({\n      id: profileUser.id\n    }, profileUser);\n    navigate(generateRecipeUrl(recipeOwnerUsername, recipe));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-profile-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-profile-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading profile...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  if (error || !profileUser) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-profile-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-profile-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Profile Not Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: error || 'The profile you\\'re looking for doesn\\'t exist or is private.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => navigate('/'),\n              children: \"Back to Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  const displayName = profileUser.full_name || profileUser.username;\n  const avatarInitials = displayName ? displayName.charAt(0).toUpperCase() : 'U';\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-profile-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-profile-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar-large\",\n            children: profileUser.avatar_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileUser.avatar_url,\n              alt: displayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: avatarInitials\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"profile-display-name\",\n              children: displayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), profileUser.full_name && profileUser.username && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"profile-username\",\n              children: [\"@\", profileUser.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: recipes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), \" \", recipes.length === 1 ? 'Recipe' : 'Recipes']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-recipes-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"Recipes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), recipes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-icon\",\n              children: \"\\uD83D\\uDCDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No public recipes yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [displayName, \" hasn't shared any recipes yet.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-recipes-grid\",\n            children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-recipe-card\",\n              onClick: () => handleViewRecipe(recipe),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-image-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-recipe-image-wrap\",\n                  children: recipe.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: recipe.image_url,\n                    alt: recipe.title,\n                    loading: \"lazy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"placeholder-image\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\uD83C\\uDF73\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), currentUser && currentUser.id !== profileUser.id && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `save-overlay-btn ${savedRecipes.has(recipe.id) ? 'saved' : ''}`,\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSaveRecipe(recipe);\n                  },\n                  disabled: saveLoading === recipe.id,\n                  title: savedRecipes.has(recipe.id) ? 'Remove from saved' : 'Save recipe',\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"20\",\n                    height: \"20\",\n                    viewBox: \"0 0 24 24\",\n                    fill: savedRecipes.has(recipe.id) ? \"currentColor\" : \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-recipe-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"user-recipe-card-title\",\n                  children: recipe.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"user-recipe-card-subtitle\",\n                  children: getRecipeSubtitle(recipe)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recipe-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-category\",\n                    children: recipe.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-date\",\n                    children: new Date(recipe.created_at).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this)]\n            }, recipe.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(UserProfile, \"TfZApNXonyh0fTh+hj4bP2YumOQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","supabase","Navigation","getUsernameForUrl","generateRecipeUrl","jsxDEV","_jsxDEV","Fragment","_Fragment","UserProfile","_s","currentUser","setCurrentUser","profileUser","setProfileUser","recipes","setRecipes","loading","setLoading","error","setError","saveLoading","setSaveLoading","savedRecipes","setSavedRecipes","Set","username","navigate","getRecipeSubtitle","recipe","title","toLowerCase","includes","category","loadUserProfile","data","user","authUser","auth","getUser","savedData","from","select","eq","id","map","item","user_recipe_id","profiles","profileError","single","console","Error","log","is_public_profile","isPublic","recipeData","recipeError","order","ascending","err","message","handleSaveRecipe","alert","isCurrentlySaved","has","delete","prev","newSet","insertData","user_id","insert","handleViewRecipe","recipeOwnerUsername","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","displayName","full_name","avatarInitials","charAt","toUpperCase","avatar_url","src","alt","length","image_url","e","stopPropagation","disabled","width","height","viewBox","fill","stroke","strokeWidth","d","Date","created_at","toLocaleDateString","_c","$RefreshReg$"],"sources":["/Users/habeebsait/Apps/food_app/web/src/pages/UserProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport Navigation from '../components/Navigation';\nimport { getUsernameForUrl, generateRecipeUrl } from '../utils/urlUtils';\nimport './UserProfile.css';\n\nfunction UserProfile() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [profileUser, setProfileUser] = useState(null);\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [saveLoading, setSaveLoading] = useState(null);\n  const [savedRecipes, setSavedRecipes] = useState(new Set());\n  \n  const { username } = useParams();\n  const navigate = useNavigate();\n\n  // Helper: Generate subtitle for recipes\n  const getRecipeSubtitle = (recipe) => {\n    const title = (recipe?.title || '').toLowerCase();\n    if (title.includes('pasta')) return 'A rich and flavorful pasta dish.';\n    if (title.includes('salad')) return 'A refreshing and healthy salad.';\n    if (title.includes('cake') || title.includes('chocolate')) return 'A decadent chocolate dessert.';\n    if (title.includes('chili') || title.includes('vegan')) return 'Hearty and packed with flavor.';\n    if (recipe?.category) return `A delicious ${recipe.category.toLowerCase()} recipe.`;\n    return 'A delicious recipe to try.';\n  };\n\n  useEffect(() => {\n    async function loadUserProfile() {\n      try {\n        // Get current authenticated user\n        const { data: { user: authUser } } = await supabase.auth.getUser();\n        setCurrentUser(authUser);\n\n        // Load saved recipes for current user if authenticated\n        if (authUser) {\n          const { data: savedData } = await supabase\n            .from('saved_recipes')\n            .select('user_recipe_id')\n            .eq('user_id', authUser.id);\n          \n          if (savedData) {\n            setSavedRecipes(new Set(savedData.map(item => item.user_recipe_id)));\n          }\n        }\n\n        // Find the profile user by username\n        const { data: profiles, error: profileError } = await supabase\n          .from('profiles')\n          .select('id, username, full_name, avatar_url, is_public_profile')\n          .eq('username', username)\n          .single();\n\n        if (profileError) {\n          console.error('Profile query error:', profileError);\n          console.error('Looking for username:', username);\n          throw new Error('User not found');\n        }\n\n        console.log('Found profile:', profiles);\n        console.log('is_public_profile value:', profiles.is_public_profile, 'type:', typeof profiles.is_public_profile);\n\n        // Handle both boolean and string values for is_public_profile\n        const isPublic = profiles.is_public_profile === true || profiles.is_public_profile === 'true';\n        \n        if (!isPublic) {\n          throw new Error('This profile is private');\n        }\n\n        setProfileUser(profiles);\n\n        // Load the user's public recipes\n        const { data: recipeData, error: recipeError } = await supabase\n          .from('user_recipes')\n          .select(`\n            id,\n            title,\n            category,\n            ingredients,\n            steps,\n            image_url,\n            created_at,\n            updated_at\n          `)\n          .eq('user_id', profiles.id)\n          .order('created_at', { ascending: false });\n\n        if (recipeError) {\n          throw recipeError;\n        }\n\n        setRecipes(recipeData || []);\n        \n      } catch (err) {\n        console.error('Error loading user profile:', err);\n        setError(err.message || 'Failed to load user profile');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadUserProfile();\n  }, [username]);\n\n  const handleSaveRecipe = async (recipe) => {\n    if (!currentUser) {\n      alert('Please sign in to save recipes');\n      return;\n    }\n\n    const isCurrentlySaved = savedRecipes.has(recipe.id);\n\n    try {\n      setSaveLoading(recipe.id);\n\n      if (isCurrentlySaved) {\n        // Remove from saved recipes\n        const { error } = await supabase\n          .from('saved_recipes')\n          .delete()\n          .eq('user_id', currentUser.id)\n          .eq('user_recipe_id', recipe.id);\n\n        if (error) throw error;\n\n        setSavedRecipes(prev => {\n          const newSet = new Set(prev);\n          newSet.delete(recipe.id);\n          return newSet;\n        });\n      } else {\n        // Add to saved recipes\n        // Note: If you get a NOT NULL constraint error, you need to run this SQL:\n        // ALTER TABLE saved_recipes ALTER COLUMN recipe_id DROP NOT NULL;\n        \n        const insertData = {\n          user_id: currentUser.id,\n          user_recipe_id: recipe.id,\n          category: recipe.category\n          // Omitting recipe_id - it should default to NULL\n        };\n\n        const { error } = await supabase\n          .from('saved_recipes')\n          .insert([insertData]);\n\n        if (error) {\n          console.error('Save recipe error:', error);\n          console.error('This error suggests recipe_id has NOT NULL constraint');\n          console.error('Run this SQL to fix: ALTER TABLE saved_recipes ALTER COLUMN recipe_id DROP NOT NULL;');\n          throw new Error(`Database schema issue: ${error.message}`);\n        }\n\n        setSavedRecipes(prev => new Set([...prev, recipe.id]));\n      }\n    } catch (err) {\n      console.error('Error saving recipe:', err);\n      alert(`Failed to ${isCurrentlySaved ? 'remove' : 'save'} recipe: ${err.message}`);\n    } finally {\n      setSaveLoading(null);\n    }\n  };\n\n  const handleViewRecipe = (recipe) => {\n    const recipeOwnerUsername = getUsernameForUrl({ id: profileUser.id }, profileUser);\n    navigate(generateRecipeUrl(recipeOwnerUsername, recipe));\n  };\n\n  if (loading) {\n    return (\n      <>\n        <Navigation />\n        <div className=\"user-profile-page\">\n          <div className=\"user-profile-container\">\n            <div className=\"loading-state\">\n              <div className=\"spinner\"></div>\n              <p>Loading profile...</p>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  if (error || !profileUser) {\n    return (\n      <>\n        <Navigation />\n        <div className=\"user-profile-page\">\n          <div className=\"user-profile-container\">\n            <div className=\"error-state\">\n              <h2>Profile Not Found</h2>\n              <p>{error || 'The profile you\\'re looking for doesn\\'t exist or is private.'}</p>\n              <button \n                className=\"btn btn-primary\"\n                onClick={() => navigate('/')}\n              >\n                Back to Home\n              </button>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  const displayName = profileUser.full_name || profileUser.username;\n  const avatarInitials = displayName ? displayName.charAt(0).toUpperCase() : 'U';\n\n  return (\n    <>\n      <Navigation />\n      <div className=\"user-profile-page\">\n        <div className=\"user-profile-container\">\n          {/* Profile Header */}\n          <div className=\"profile-header\">\n            <div className=\"profile-avatar-large\">\n              {profileUser.avatar_url ? (\n                <img src={profileUser.avatar_url} alt={displayName} />\n              ) : (\n                <span>{avatarInitials}</span>\n              )}\n            </div>\n            <div className=\"profile-info\">\n              <h1 className=\"profile-display-name\">{displayName}</h1>\n              {profileUser.full_name && profileUser.username && (\n                <p className=\"profile-username\">@{profileUser.username}</p>\n              )}\n              <div className=\"profile-stats\">\n                <span className=\"stat\">\n                  <strong>{recipes.length}</strong> {recipes.length === 1 ? 'Recipe' : 'Recipes'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Recipes Section */}\n          <div className=\"profile-recipes-section\">\n            <h2 className=\"section-title\">Recipes</h2>\n            \n            {recipes.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">üìù</div>\n                <h3>No public recipes yet</h3>\n                <p>{displayName} hasn't shared any recipes yet.</p>\n              </div>\n            ) : (\n              <div className=\"user-recipes-grid\">\n                {recipes.map((recipe) => (\n                  <div \n                    key={recipe.id} \n                    className=\"user-recipe-card\"\n                    onClick={() => handleViewRecipe(recipe)}\n                  >\n                    <div className=\"recipe-image-container\">\n                      <div className=\"user-recipe-image-wrap\">\n                        {recipe.image_url ? (\n                          <img \n                            src={recipe.image_url} \n                            alt={recipe.title}\n                            loading=\"lazy\"\n                          />\n                        ) : (\n                          <div className=\"placeholder-image\">\n                            <span>üç≥</span>\n                          </div>\n                        )}\n                      </div>\n                      \n                      {/* Save button overlay */}\n                      {currentUser && currentUser.id !== profileUser.id && (\n                        <button\n                          className={`save-overlay-btn ${savedRecipes.has(recipe.id) ? 'saved' : ''}`}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleSaveRecipe(recipe);\n                          }}\n                          disabled={saveLoading === recipe.id}\n                          title={savedRecipes.has(recipe.id) ? 'Remove from saved' : 'Save recipe'}\n                        >\n                          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill={savedRecipes.has(recipe.id) ? \"currentColor\" : \"none\"} stroke=\"currentColor\" strokeWidth=\"2\">\n                            <path d=\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"/>\n                          </svg>\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"user-recipe-info\">\n                      <h3 className=\"user-recipe-card-title\">{recipe.title}</h3>\n                      <p className=\"user-recipe-card-subtitle\">{getRecipeSubtitle(recipe)}</p>\n                      <div className=\"recipe-meta\">\n                        <span className=\"recipe-category\">{recipe.category}</span>\n                        <span className=\"recipe-date\">\n                          {new Date(recipe.created_at).toLocaleDateString()}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}